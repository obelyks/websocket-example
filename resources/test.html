<!DOCTYPE HTML>
<html>
    <head>
        <script type="text/javascript">
            function WebSocketTest(){
                if ("WebSocket" in window){
                    alert("WebSocket is supported by your Browser!");
                    //var ws = new WebSocket("ws://localhost:8020"); // Let us open a web socket
                    ws = new WebSocket("ws://localhost:8020"); // Let us open a web socket

                    ws.onopen = function(){
                        ws.send("Message to send from client js");// Web Socket is connected, send data using send()
                        alert("Message is sent...");
                    };
                    ws.onmessage = function (evt){
                        var received_msg = evt.data;
                        alert("Message is received..."+received_msg);
                    };
                    ws.onclose = function () {
                        alert("Connection is closed...");// websocket is closed.
                    };
                }else {
                    alert("WebSocket NOT supported by your Browser!");// The browser doesn't support WebSocket
                }
            }
            function sendMessage(){
                if (ws) {
                    var message = document.getElementById("message").value;
                    ws.send(message);
                }
            }
        </script>
    </head>
    <body>
        <div id="sse">
            <a href="javascript:WebSocketTest()">Run WebSocket</a>
        </div>
        <input id="message" type="text"/>
        <input type="button" onclick="sendMessage();"/>
    </body>
</html>
